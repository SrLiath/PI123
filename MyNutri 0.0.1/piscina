from ast import Try
from ctypes.wintypes import INT
import psycopg2
# Conecta no banco
con = psycopg2.connect(
    host="ec2-34-203-182-65.compute-1.amazonaws.com",
    database="dp89gpr843f41",
    user="chvtvrlfasbers",
    password="",
    port="5432")

 # Função para criar tabela no banco
def criar_db(sql):
  cur = con.cursor()
  cur.execute(sql)
  con.commit()
  con.close()
alogin = 1
while (alogin == 1):
    try:
        codigo = int(input("\nInforme o seu codigo de acesso: "))
        if not 1000000 <= codigo <= 9999999:
            raise ValueError("\nInfelizmente nao localizamos seu codigo, verifique seu cadastro na plataforma\nou verifique atraves do email Suporte@MyNutri.com.br")
    except ValueError as e:
        print("\nDigite seu Codigo de plataforma")
    else:
        sql = ("select cod from usernutri where cod = " + str(codigo))
        cur = con.cursor()
        cur.execute(sql)
        data = cur.fetchone()
        print(data)
        try:
            if (data[0] != codigo):
                alogin = 1
            else:
                alogin = 0
        except:
            alogin = 1
